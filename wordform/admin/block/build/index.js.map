{"version":3,"file":"index.js","mappings":"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","sources":["webpack:///./src/edit.js","webpack:///./src/save.js","webpack:///./src/editor.scss","webpack:///external window [\"wp\",\"apiFetch\"]","webpack:///external window [\"wp\",\"blockEditor\"]","webpack:///external window [\"wp\",\"blocks\"]","webpack:///external window [\"wp\",\"components\"]","webpack:///external window [\"wp\",\"element\"]","webpack:///external window [\"wp\",\"i18n\"]","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\r\nimport { useBlockProps, RichText } from '@wordpress/block-editor';\r\nimport { TextControl, SelectControl } from '@wordpress/components';\r\nimport apiFetch from '@wordpress/api-fetch';\r\nimport { useState, useEffect } from '@wordpress/element';\r\nimport metadata from './block.json';\r\nimport './editor.scss';\r\n\r\nexport default function Edit({attributes})  {\t\r\n\tconst blockProps\t= useBlockProps();\t\r\n\t\r\n\tconst [ selectdata, setSelectdata ]\t= useState(\"\");\r\n\tconst [ formdata, setFormdata ]\t \t= useState(\"\");\r\n\tconst [ formid, setFormid ]  \t    = useState(\"\");\r\n\tconst [ formidprev, setFormidprev ] = useState(\"\");\r\n\t\r\n\tconsole.log('Attributes: ');\r\n\tconsole.log(attributes);\r\n\t\t\r\n\tconst getSelectedFormID\t= (event) => {\r\n\t\tlet selectedFormID\t=\t event.target.value;\t\t\r\n\t\tconsole.log('on Change Current Form ID: '+selectedFormID);\t\t\r\n\t\tconsole.log('Previous Form ID: ' + formid );\r\n\t\tsetFormidprev(formid);\r\n\t\tsetFormid(selectedFormID);\t\t\t\t\t\r\n\t}\r\n\t\r\n\tconst getFormsdata = () => {\r\n\t\tuseEffect(() => {\r\n\t\tlet postID = wp.data.select(\"core/editor\").getCurrentPostId();\t\t\t\t\t\r\n\t\t\t\r\n\t\tapiFetch( {\r\n\t\t\tpath: 'wordform/v1/all-form-list',\r\n\t\t\tmethod: 'POST',\t\r\n\t\t\tdata: { postID: postID },\r\n\t\t} ).then( ( res ) => {\t\t   \r\n\t\t\tconsole.log( res );\r\n\t\t\tconst jData = JSON.parse(res);\r\n\t\t\tconsole.log(jData);\r\n\t\t\tif ( jData.status == 'success' ) {\r\n\t\t\t\tsetSelectdata(jData.formList);\t\t\t\t\r\n\t\t\t\tif ( jData.formID[0] ) {\r\n\t\t\t\t\tconsole.log('Previous Attached Form ID: '+ jData.formID[0] );\r\n\t\t\t\t\tsetFormid(jData.formID[0]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\t\t\r\n\t\t\t\r\n\t\t},[]);\r\n\t}\r\n\t\r\n\t\t\t\t\r\n\tuseEffect(() => {\t\t\r\n\t\tconsole.log('PreviousFormID:'+ formidprev );\r\n\t\tconsole.log('CurrentFormdID:'+ formid );\r\n\t\tlet postID = wp.data.select(\"core/editor\").getCurrentPostId();\r\n\t\tconsole.log( postID );\r\n\r\n\t\tapiFetch( {\r\n\t\t\tpath: 'wordform/v1/render-selected-form',\r\n\t\t\tmethod: 'POST',\r\n\t\t\tdata: { PreviousWordFormID: formidprev, WordFormID: formid, postID: postID },\r\n\t\t} ).then( ( res ) => {\t\t   \r\n\t\t\tconsole.log( res );\r\n\t\t\tconst jData = JSON.parse(res);\r\n\t\t\tconsole.log(jData);\r\n\t\t\tif ( jData.status == 'success' ) {\r\n\t\t\t\tsetFormdata(jData.formdata);\t\t\r\n\t\t\t\tattributes.createdformdata = jData.formdata;\r\n\t\t\t\tconsole.log(attributes.createdformdata);\r\n\t\t\t}\r\n\t\t} );\t\t\r\n\r\n\t}, [formid]);\t\t\t\r\n\t\t\t\t\t\t\t\r\n    return (\t\t\t\t\r\n\t\t<div {...blockProps}>\t\t\r\n        \t{ getFormsdata() }\t\t           \r\n\t\t    <select onChange={getSelectedFormID} className=\"sc-wordform-block-editor-form-selector-select\">\r\n\t\t       <option value=\"\">Select Form</option>\r\n\t\t\t   {\r\n\t\t\t    selectdata && selectdata.map( (item) => ( <option key={item.ID} value={item.formID} selected={item.formID == formid}>{item.formName}</option> ))\r\n               }\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t</select>\r\n\t\t   \r\n\t        <div dangerouslySetInnerHTML={ { __html: attributes.createdformdata } }></div>\r\n        \t\t\t\t\t\t  \r\n\t    </div>\r\n\t\t\r\n    );\r\n}\r\n","import { useBlockProps } from '@wordpress/block-editor';\r\n\r\nexport default function save({attributes}) {\t\r\n    const blockProps = useBlockProps.save();\r\n\tconsole.log('SAVE: ');\r\n\tconsole.log(attributes.createdformdata);\r\n    return <div className='sc-wordform-block-editor-div-wrapper' dangerouslySetInnerHTML={ { __html: attributes.createdformdata } }></div> \t    \t\t\t \t\t \t\r\n}","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\r\n\r\n//import './style.scss';\r\n\r\nimport Edit from './edit';\r\nimport save from './save';\r\nimport metadata from './block.json';\r\n\r\nregisterBlockType( metadata.name, {\r\n    /**\r\n     * @see ./edit.js\r\n     */\r\n    edit: Edit,\r\n    /**\r\n     * @see ./save.js\r\n     */\r\n    save,\r\n});\r\n\r\n"],"names":["__","useBlockProps","RichText","TextControl","SelectControl","apiFetch","useState","useEffect","metadata","Edit","attributes","blockProps","selectdata","setSelectdata","formdata","setFormdata","formid","setFormid","formidprev","setFormidprev","console","log","getSelectedFormID","event","selectedFormID","target","value","getFormsdata","postID","wp","data","select","getCurrentPostId","path","method","then","res","jData","JSON","parse","status","formList","formID","PreviousWordFormID","WordFormID","createdformdata","createElement","onChange","className","map","item","key","ID","selected","formName","dangerouslySetInnerHTML","__html","save","registerBlockType","name","edit"],"sourceRoot":""}